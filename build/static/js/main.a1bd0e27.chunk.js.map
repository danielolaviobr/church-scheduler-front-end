{"version":3,"sources":["images/logo-small.svg","images/delete.svg","pages/landing-page.tsx","pages/galeria-page.tsx","services/api.ts","pages/celula-page.tsx","pages/admin-page.tsx","routes.tsx","App.tsx","index.tsx"],"names":["module","exports","LandingPage","id","className","to","GaleriaPage","api","axios","create","baseURL","CelulaPage","useState","fullName","setFullName","nextEvent","setNextEvent","type","undefined","message","visible","alertData","setAlertData","displayAlert","setDisplayAlert","a","get","response","data","date","useEffect","getDate","Alert","severity","src","smallLogo","alt","value","onChange","event","target","placeholder","onClick","post","name","catch","error","console","log","then","AdminPage","users","setUsers","getPersons","useCallback","re","Axios","replace","deletePerson","delete","scheduledPersons","useMemo","map","person","key","DeleteIcon","Routes","path","exact","component","CultoPage","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a1bd0e27.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-small.31b7bfe2.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete.4e3daeb8.svg\";","import React from \"react\";\nimport \"../styles/pages/landing-page.css\";\nimport { Link } from \"react-router-dom\";\n\nfunction LandingPage() {\n  return (\n    <div id=\"landing-page\">\n      <div className=\"content-wrapper\">\n        <main>\n          <h1>Jovens Presbiteriana do Recreio</h1>\n          <p>Agende sua visita</p>\n        </main>\n        <footer>\n          <Link to=\"/celula\" className=\"redirect-button\">\n            Célula\n          </Link>\n          <Link to=\"/galeria\" className=\"redirect-button\">\n            Galeria\n          </Link>\n        </footer>\n      </div>\n    </div>\n  );\n}\n\nexport default LandingPage;\n","import React from \"react\";\n\nfunction GaleriaPage() {\n  return <div></div>;\n}\n\nexport default GaleriaPage;\n","import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"http://localhost:3003\",\n});\n\nexport default api;\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"../styles/pages/celula-page.css\";\nimport { Alert } from \"@material-ui/lab\";\n\nimport smallLogo from \"../images/logo-small.svg\";\nimport api from \"../services/api\";\n\nfunction CelulaPage() {\n  interface alertDataType {\n    type: \"success\" | \"warning\" | \"info\" | \"error\" | undefined;\n    message: string | undefined;\n    visible: boolean;\n  }\n\n  const [fullName, setFullName] = useState<string>(\"\");\n  const [nextEvent, setNextEvent] = useState<string>();\n  const [alertData, setAlertData] = useState<alertDataType>({\n    type: undefined,\n    message: undefined,\n    visible: false,\n  });\n  const [displayAlert, setDisplayAlert] = useState<JSX.Element | undefined>(\n    undefined\n  );\n\n  function submitForm() {\n    api\n      .post(\"celula\", {\n        name: fullName,\n        date: nextEvent,\n      })\n      .catch((error) => {\n        console.log(error);\n        setAlertData({\n          type: \"error\",\n          message: \"Ocorreu um erro ao realizar a inscrição\",\n          visible: true,\n        });\n      })\n      .then((response) => {\n        response &&\n          setAlertData({\n            type: \"success\",\n            message: \"Inscrição realizada com sucesso\",\n            visible: true,\n          });\n      });\n\n    setFullName(\"\");\n  }\n\n  async function getDate() {\n    const response = await api.get(\"date/celula\");\n    setNextEvent(response.data.date);\n  }\n\n  useEffect(() => {\n    getDate();\n    setDisplayAlert(\n      alertData.visible ? (\n        <Alert severity={alertData.type}>{alertData.message}</Alert>\n      ) : undefined\n    );\n  }, [alertData]);\n\n  return (\n    <div id=\"celula-page\">\n      <Link to=\"/\" className=\"logo\">\n        <img src={smallLogo} alt=\"Início\" />\n      </Link>\n      <main>\n        {displayAlert}\n        <div className=\"header\">\n          <h2>Célula de Quinta-feira</h2>\n          <h3>{nextEvent}</h3>\n        </div>\n        <input\n          type=\"text\"\n          value={fullName}\n          onChange={(event) => setFullName(event.target.value)}\n          placeholder=\"Nome Completo\"\n        />\n\n        <Link to=\"/celula\" onClick={submitForm} className=\"confirm\">\n          Inscrever-se\n        </Link>\n        <Link to=\"/\" className=\"cancel\">\n          Voltar\n        </Link>\n      </main>\n    </div>\n  );\n}\n\nexport default CelulaPage;\n","import Axios from \"axios\";\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport \"../styles/pages/admin-page.css\";\n\nimport DeleteIcon from \"../images/delete.svg\";\nimport smallLogo from \"../images/logo-small.svg\";\n\ninterface Person {\n  id: number;\n  name: string;\n  scheduled_to: string;\n}\n\nfunction AdminPage() {\n  const [users, setUsers] = useState<Person[]>([]);\n  const [nextEvent, setNextEvent] = useState<string>(\"\");\n\n  const getPersons = useCallback(async () => {\n    const re = /\\//gi;\n    const response = await Axios.get(\n      `http://localhost:3003/celula/${nextEvent.replace(re, \"-\")}`\n    );\n    setUsers(response.data);\n  }, [nextEvent]);\n\n  const deletePerson = useCallback(\n    async (id: number) => {\n      await Axios.delete(`http://localhost:3003/celula/${id}`);\n      getPersons();\n    },\n    [getPersons]\n  );\n\n  const scheduledPersons = useMemo(() => {\n    return users.map((person) => (\n      <div key={person.id} className=\"persons\">\n        <li>{person.name}</li>\n        <img\n          className=\"delete-icon\"\n          src={DeleteIcon}\n          alt=\"Deletar\"\n          onClick={() => deletePerson(person.id)}\n        />\n      </div>\n    ));\n  }, [users, deletePerson]);\n\n  const getDate = useCallback(async () => {\n    const response = await Axios.get(\"http://localhost:3003/date/celula\");\n    setNextEvent(response.data.date);\n  }, []);\n\n  useEffect(() => {\n    getDate();\n    getPersons();\n  }, [getDate, getPersons]);\n\n  return (\n    <div id=\"admin-page\">\n      <Link to=\"/\" className=\"logo\">\n        <img src={smallLogo} alt=\"Início\" />\n      </Link>\n      <div className=\"content-wrapper\">\n        <header>Cadastrados {nextEvent}</header>\n        <div className=\"srollable-list\">\n          <ul>{scheduledPersons}</ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default AdminPage;\n","import { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport React from \"react\";\nimport LandingPage from \"./pages/landing-page\";\nimport GaleriaPage from \"./pages/galeria-page\";\nimport CultoPage from \"./pages/celula-page\";\nimport AdminPage from \"./pages/admin-page\";\n\nfunction Routes() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/\" exact component={LandingPage} />\n        <Route path=\"/galeria\" component={GaleriaPage} />\n        <Route path=\"/celula\" component={CultoPage} />\n        <Route path=\"/admin\" component={AdminPage} />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default Routes;\n","import React from \"react\";\nimport Routes from \"./routes\";\n\nimport \"./styles/global.css\";\nimport \"./styles/pages/landing-page.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Routes />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}